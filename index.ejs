<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CS312 Mini Project 1</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>

<header class="header-container">
    <h1>CS312 Mini Project 1</h1>
    <button class="account-button" onclick="window.location.href='/account'">Account Settings</button>
</header>

<!-- form for creating a post -->
<div class="postForm">
    <form id="postForm" method="POST" action="/create-post">

        <!-- Text boxes for input -->
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" required><br>
        <label for="content">Content:</label>
        <textarea id="content" name="content" required></textarea><br>

        <!-- category logic -->
        <label for="category">Category:</label>
        <select id="category" name="category" required>
            <option value="Web Programming">Web Programming</option>
            <option value="Other Programming">Other Programming</option>
            <option value="Other">Other</option>
        </select><br>

        <button type="submit">Create Post</button>
    </form>
</div>

<!-- div for adding css to the posts -->
<div id="posts" class="posts">

    <!-- embedded javascript for displaying the posts -->
    <% posts.forEach((post) => { %>
        <div class="post">
            <h2><%= post.title %></h2>
            <p>by <%= post.creator_name %> on <%= post.creationTime %></p>
            <div class="post-content">
                <p><%= post.body %></p>
            </div>
            <p>Category: <%= post.category %></p>
            <a href="/edit-post/<%= post.blog_id %>">
                <button>Edit</button>
            </a>
            <form action="/delete-post/<%= post.blog_id %>" method="POST" style="display:inline;">
                <button type="submit">Delete</button>
            </form>
        </div>
    <% }) %>
</div>

<!-- link the script.js -->
<script src="/script.js"></script>
</body>
</html>
